{
  "openapi": "3.0.0",
  "info": {
    "title": "THEAM CRM Service",
    "version": "1.0.0"
  },
  "servers": [
    {
      "url": "http://localhost:3333"
    }
  ],
  "components": {
    "securitySchemes": {
      "bearerAuth": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT"
      }
    }
  },
  "tags": [
    {
      "name": "Customer"
    },
    {
      "name": "User"
    },
    {
      "name": "Auth"
    }
  ],
  "paths": {
    "/v1/customers": {
      "post": {
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "tags": ["Customer"],
        "summary": "Create Customer",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "example": {
                  "name": "Jose",
                  "surname": "Silva",
                  "email": "jose@silva.com"
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Created",
            "headers": {
              "X-Powered-By": {
                "schema": {
                  "type": "string",
                  "example": "Express"
                }
              },
              "Content-Type": {
                "schema": {
                  "type": "string",
                  "example": "application/json; charset=utf-8"
                }
              },
              "Content-Length": {
                "schema": {
                  "type": "integer",
                  "example": "616"
                }
              },
              "ETag": {
                "schema": {
                  "type": "string",
                  "example": "W/\"268-komv+7dRMxY205mfbkT8ShsiTvQ\""
                }
              },
              "Date": {
                "schema": {
                  "type": "string",
                  "example": "Sun, 22 May 2022 17:53:36 GMT"
                }
              },
              "Connection": {
                "schema": {
                  "type": "string",
                  "example": "keep-alive"
                }
              },
              "Keep-Alive": {
                "schema": {
                  "type": "string",
                  "example": "timeout=5"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                },
                "example": {
                  "data": {
                    "name": "Jonh",
                    "surname": "Doe",
                    "email": "john@doe.com",
                    "photo": null,
                    "createdBy": "628a6a5d76124515cb2113ea",
                    "updatedBy": "628a6a5d76124515cb2113ea",
                    "createdAt": "2022-05-22T17:53:36.608Z",
                    "updatedAt": "2022-05-22T17:53:36.608Z",
                    "id": "628a78a06ef79700dead3301"
                  },
                  "links": [
                    {
                      "rel": "self",
                      "type": "GET",
                      "href": "/v1/customers/628a78a06ef79700dead3301"
                    },
                    {
                      "rel": "deleteCustomer",
                      "type": "DELETE",
                      "href": "/v1/customers/628a78a06ef79700dead3301"
                    },
                    {
                      "rel": "updateCustomer",
                      "type": "PUT",
                      "href": "/v1/customers/628a78a06ef79700dead3301"
                    },
                    {
                      "rel": "uploadPhoto",
                      "type": "PATCH",
                      "href": "/v1/customers/628a78a06ef79700dead3301/photo"
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "headers": {
              "X-Powered-By": {
                "schema": {
                  "type": "string",
                  "example": "Express"
                }
              },
              "Content-Type": {
                "schema": {
                  "type": "string",
                  "example": "application/json; charset=utf-8"
                }
              },
              "Content-Length": {
                "schema": {
                  "type": "integer",
                  "example": "159"
                }
              },
              "ETag": {
                "schema": {
                  "type": "string",
                  "example": "W/\"9f-+nWdqjuX4oeqlQymzg6M2seYkWI\""
                }
              },
              "Date": {
                "schema": {
                  "type": "string",
                  "example": "Sun, 22 May 2022 17:54:07 GMT"
                }
              },
              "Connection": {
                "schema": {
                  "type": "string",
                  "example": "keep-alive"
                }
              },
              "Keep-Alive": {
                "schema": {
                  "type": "string",
                  "example": "timeout=5"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                },
                "example": {
                  "error": {
                    "name": "ValidationError",
                    "reason": [
                      "body.surname must be at least 2 characters",
                      "body.name must be at least 2 characters",
                      "body.email must be a valid email"
                    ]
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "headers": {
              "X-Powered-By": {
                "schema": {
                  "type": "string",
                  "example": "Express"
                }
              },
              "Content-Type": {
                "schema": {
                  "type": "string",
                  "example": "application/json; charset=utf-8"
                }
              },
              "Content-Length": {
                "schema": {
                  "type": "integer",
                  "example": "92"
                }
              },
              "ETag": {
                "schema": {
                  "type": "string",
                  "example": "W/\"5c-wawzhE8/V+XQPiLHYiE7v3G0FPM\""
                }
              },
              "Date": {
                "schema": {
                  "type": "string",
                  "example": "Sun, 22 May 2022 17:55:43 GMT"
                }
              },
              "Connection": {
                "schema": {
                  "type": "string",
                  "example": "keep-alive"
                }
              },
              "Keep-Alive": {
                "schema": {
                  "type": "string",
                  "example": "timeout=5"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                },
                "example": {
                  "error": {
                    "name": "Auth.EnsureAuthorizationError",
                    "reason": ["missing authorization header"]
                  }
                }
              }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "headers": {
              "X-Powered-By": {
                "schema": {
                  "type": "string",
                  "example": "Express"
                }
              },
              "Content-Type": {
                "schema": {
                  "type": "string",
                  "example": "application/json; charset=utf-8"
                }
              },
              "Content-Length": {
                "schema": {
                  "type": "integer",
                  "example": "110"
                }
              },
              "ETag": {
                "schema": {
                  "type": "string",
                  "example": "W/\"6e-mUwwWdhBtCa0ATMLO9Twu41QYxQ\""
                }
              },
              "Date": {
                "schema": {
                  "type": "string",
                  "example": "Sun, 22 May 2022 17:54:35 GMT"
                }
              },
              "Connection": {
                "schema": {
                  "type": "string",
                  "example": "keep-alive"
                }
              },
              "Keep-Alive": {
                "schema": {
                  "type": "string",
                  "example": "timeout=5"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                },
                "example": {
                  "error": {
                    "name": "Customer.AlreadyExistsError",
                    "reason": [
                      "customer with email: john@doe.com already exists"
                    ]
                  }
                }
              }
            }
          }
        }
      },
      "get": {
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "tags": ["Customer"],
        "summary": "List Customers",
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "schema": {
              "type": "number"
            },
            "example": "1"
          },
          {
            "name": "limit",
            "in": "query",
            "schema": {
              "type": "number"
            },
            "example": "100"
          },
          {
            "name": "search",
            "in": "query",
            "schema": {
              "type": "string"
            },
            "example": "jonh doe"
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "headers": {
              "X-Powered-By": {
                "schema": {
                  "type": "string",
                  "example": "Express"
                }
              },
              "Content-Type": {
                "schema": {
                  "type": "string",
                  "example": "application/json; charset=utf-8"
                }
              },
              "Content-Length": {
                "schema": {
                  "type": "integer",
                  "example": "2303"
                }
              },
              "ETag": {
                "schema": {
                  "type": "string",
                  "example": "W/\"8ff-54I2LPwC3fG+BsFUgeoP09G1tWw\""
                }
              },
              "Date": {
                "schema": {
                  "type": "string",
                  "example": "Sun, 22 May 2022 20:31:52 GMT"
                }
              },
              "Connection": {
                "schema": {
                  "type": "string",
                  "example": "keep-alive"
                }
              },
              "Keep-Alive": {
                "schema": {
                  "type": "string",
                  "example": "timeout=5"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                },
                "examples": {
                  "example-0": {
                    "summary": "Success",
                    "value": {
                      "data": [
                        {
                          "name": "John",
                          "surname": "Doe",
                          "email": "john@doe.com",
                          "createdBy": "628a6a5d76124515cb2113ea",
                          "updatedBy": "628a6a5d76124515cb2113ea",
                          "createdAt": "2022-05-22T17:53:36.608Z",
                          "updatedAt": "2022-05-22T20:29:09.899Z",
                          "id": "628a78a06ef79700dead3301",
                          "photoUrl": "http://localhost:9000/crm-customers-bucket/628a78a06ef79700dead3301/photo.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20220522%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20220522T203152Z&X-Amz-Expires=3600&X-Amz-Signature=220e51d4413e5d9462fa839c971daf00094d71d677a5337bb581e51927c09a67&X-Amz-SignedHeaders=host",
                          "links": [
                            {
                              "rel": "self",
                              "type": "GET",
                              "href": "/v1/customers/628a78a06ef79700dead3301"
                            },
                            {
                              "rel": "deleteCustomer",
                              "type": "DELETE",
                              "href": "/v1/customers/628a78a06ef79700dead3301"
                            },
                            {
                              "rel": "updateCustomer",
                              "type": "PUT",
                              "href": "/v1/customers/628a78a06ef79700dead3301"
                            },
                            {
                              "rel": "uploadPhoto",
                              "type": "PATCH",
                              "href": "/v1/customers/628a78a06ef79700dead3301/photo"
                            }
                          ]
                        },
                        {
                          "name": "Ann",
                          "surname": "Doe",
                          "email": "ann@doe.com",
                          "createdBy": "628a6a5d76124515cb2113ea",
                          "updatedBy": "628a6a5d76124515cb2113ea",
                          "createdAt": "2022-05-22T20:18:49.716Z",
                          "updatedAt": "2022-05-22T20:18:49.716Z",
                          "id": "628a9aa907a15c869173d9e8",
                          "photoUrl": null,
                          "links": [
                            {
                              "rel": "self",
                              "type": "GET",
                              "href": "/v1/customers/628a9aa907a15c869173d9e8"
                            },
                            {
                              "rel": "deleteCustomer",
                              "type": "DELETE",
                              "href": "/v1/customers/628a9aa907a15c869173d9e8"
                            },
                            {
                              "rel": "updateCustomer",
                              "type": "PUT",
                              "href": "/v1/customers/628a9aa907a15c869173d9e8"
                            },
                            {
                              "rel": "uploadPhoto",
                              "type": "PATCH",
                              "href": "/v1/customers/628a9aa907a15c869173d9e8/photo"
                            }
                          ]
                        },
                        {
                          "name": "Jose",
                          "surname": "Silva",
                          "email": "jose@silva.com",
                          "createdBy": "628a6a5d76124515cb2113ea",
                          "updatedBy": "628a6a5d76124515cb2113ea",
                          "createdAt": "2022-05-22T20:20:05.380Z",
                          "updatedAt": "2022-05-22T20:20:05.380Z",
                          "id": "628a9af507a15c869173d9eb",
                          "photoUrl": null,
                          "links": [
                            {
                              "rel": "self",
                              "type": "GET",
                              "href": "/v1/customers/628a9af507a15c869173d9eb"
                            },
                            {
                              "rel": "deleteCustomer",
                              "type": "DELETE",
                              "href": "/v1/customers/628a9af507a15c869173d9eb"
                            },
                            {
                              "rel": "updateCustomer",
                              "type": "PUT",
                              "href": "/v1/customers/628a9af507a15c869173d9eb"
                            },
                            {
                              "rel": "uploadPhoto",
                              "type": "PATCH",
                              "href": "/v1/customers/628a9af507a15c869173d9eb/photo"
                            }
                          ]
                        }
                      ],
                      "links": [
                        {
                          "rel": "self",
                          "type": "GET",
                          "href": "/v1/customers?page=1"
                        },
                        {
                          "rel": "next",
                          "type": "GET",
                          "href": "/v1/customers?page=2"
                        }
                      ]
                    }
                  },
                  "example-1": {
                    "summary": "Queried Result",
                    "value": {
                      "data": [
                        {
                          "name": "Jose",
                          "surname": "Silva",
                          "email": "jose@silva.com",
                          "createdBy": "628a6a5d76124515cb2113ea",
                          "updatedBy": "628a6a5d76124515cb2113ea",
                          "createdAt": "2022-05-22T20:20:05.380Z",
                          "updatedAt": "2022-05-22T20:20:05.380Z",
                          "id": "628a9af507a15c869173d9eb",
                          "photoUrl": null,
                          "links": [
                            {
                              "rel": "self",
                              "type": "GET",
                              "href": "/v1/customers/628a9af507a15c869173d9eb"
                            },
                            {
                              "rel": "deleteCustomer",
                              "type": "DELETE",
                              "href": "/v1/customers/628a9af507a15c869173d9eb"
                            },
                            {
                              "rel": "updateCustomer",
                              "type": "PUT",
                              "href": "/v1/customers/628a9af507a15c869173d9eb"
                            },
                            {
                              "rel": "uploadPhoto",
                              "type": "PATCH",
                              "href": "/v1/customers/628a9af507a15c869173d9eb/photo"
                            }
                          ]
                        }
                      ],
                      "links": [
                        {
                          "rel": "self",
                          "type": "GET",
                          "href": "/v1/customers?page=1&limit=100&search=silva"
                        },
                        {
                          "rel": "next",
                          "type": "GET",
                          "href": "/v1/customers?page=2&limit=100&search=silva"
                        }
                      ]
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "headers": {
              "X-Powered-By": {
                "schema": {
                  "type": "string",
                  "example": "Express"
                }
              },
              "Content-Type": {
                "schema": {
                  "type": "string",
                  "example": "application/json; charset=utf-8"
                }
              },
              "Content-Length": {
                "schema": {
                  "type": "integer",
                  "example": "133"
                }
              },
              "ETag": {
                "schema": {
                  "type": "string",
                  "example": "W/\"85-mGQYmyaVmZCeZtGaX+ksWFPEAwU\""
                }
              },
              "Date": {
                "schema": {
                  "type": "string",
                  "example": "Sun, 22 May 2022 20:34:59 GMT"
                }
              },
              "Connection": {
                "schema": {
                  "type": "string",
                  "example": "keep-alive"
                }
              },
              "Keep-Alive": {
                "schema": {
                  "type": "string",
                  "example": "timeout=5"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                },
                "example": {
                  "error": {
                    "name": "ValidationError",
                    "reason": [
                      "query.page must be greater than or equal to 1",
                      "query.limit must be less than or equal to 100"
                    ]
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "headers": {
              "X-Powered-By": {
                "schema": {
                  "type": "string",
                  "example": "Express"
                }
              },
              "Content-Type": {
                "schema": {
                  "type": "string",
                  "example": "application/json; charset=utf-8"
                }
              },
              "Content-Length": {
                "schema": {
                  "type": "integer",
                  "example": "92"
                }
              },
              "ETag": {
                "schema": {
                  "type": "string",
                  "example": "W/\"5c-wawzhE8/V+XQPiLHYiE7v3G0FPM\""
                }
              },
              "Date": {
                "schema": {
                  "type": "string",
                  "example": "Sun, 22 May 2022 20:35:24 GMT"
                }
              },
              "Connection": {
                "schema": {
                  "type": "string",
                  "example": "keep-alive"
                }
              },
              "Keep-Alive": {
                "schema": {
                  "type": "string",
                  "example": "timeout=5"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                },
                "example": {
                  "error": {
                    "name": "Auth.EnsureAuthorizationError",
                    "reason": ["missing authorization header"]
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v1/customers/{customerId}": {
      "put": {
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "tags": ["Customer"],
        "summary": "Update Customer",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "example": {
                  "name": "John",
                  "surname": "Doe"
                }
              }
            }
          }
        },
        "parameters": [
          {
            "name": "customerId",
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "headers": {
              "X-Powered-By": {
                "schema": {
                  "type": "string",
                  "example": "Express"
                }
              },
              "Content-Type": {
                "schema": {
                  "type": "string",
                  "example": "application/json; charset=utf-8"
                }
              },
              "Content-Length": {
                "schema": {
                  "type": "integer",
                  "example": "635"
                }
              },
              "ETag": {
                "schema": {
                  "type": "string",
                  "example": "W/\"27b-/CSKs35KhgD3d4L+ACYn38GRvMg\""
                }
              },
              "Date": {
                "schema": {
                  "type": "string",
                  "example": "Sun, 22 May 2022 20:17:04 GMT"
                }
              },
              "Connection": {
                "schema": {
                  "type": "string",
                  "example": "keep-alive"
                }
              },
              "Keep-Alive": {
                "schema": {
                  "type": "string",
                  "example": "timeout=5"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                },
                "example": {
                  "data": {
                    "name": "John",
                    "surname": "Doe",
                    "email": "john@doe.com",
                    "deleted": false,
                    "createdBy": "628a6a5d76124515cb2113ea",
                    "updatedBy": "628a6a5d76124515cb2113ea",
                    "createdAt": "2022-05-22T17:53:36.608Z",
                    "updatedAt": "2022-05-22T20:17:04.067Z",
                    "id": "628a78a06ef79700dead3301",
                    "photoUrl": null
                  },
                  "links": [
                    {
                      "rel": "self",
                      "type": "GET",
                      "href": "/v1/customers/628a78a06ef79700dead3301"
                    },
                    {
                      "rel": "deleteCustomer",
                      "type": "DELETE",
                      "href": "/v1/customers/628a78a06ef79700dead3301"
                    },
                    {
                      "rel": "updateCustomer",
                      "type": "PUT",
                      "href": "/v1/customers/628a78a06ef79700dead3301"
                    },
                    {
                      "rel": "uploadPhoto",
                      "type": "PATCH",
                      "href": "/v1/customers/628a78a06ef79700dead3301/photo"
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "headers": {
              "X-Powered-By": {
                "schema": {
                  "type": "string",
                  "example": "Express"
                }
              },
              "Content-Type": {
                "schema": {
                  "type": "string",
                  "example": "application/json; charset=utf-8"
                }
              },
              "Content-Length": {
                "schema": {
                  "type": "integer",
                  "example": "163"
                }
              },
              "ETag": {
                "schema": {
                  "type": "string",
                  "example": "W/\"a3-hytgOu02DV7jwNnrcnZLsaAmzbE\""
                }
              },
              "Date": {
                "schema": {
                  "type": "string",
                  "example": "Sun, 22 May 2022 20:16:44 GMT"
                }
              },
              "Connection": {
                "schema": {
                  "type": "string",
                  "example": "keep-alive"
                }
              },
              "Keep-Alive": {
                "schema": {
                  "type": "string",
                  "example": "timeout=5"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                },
                "example": {
                  "error": {
                    "name": "ValidationError",
                    "reason": [
                      "body.surname must be at least 2 characters",
                      "body.name must be at least 2 characters",
                      "params.customerId must be a valid id"
                    ]
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "headers": {
              "X-Powered-By": {
                "schema": {
                  "type": "string",
                  "example": "Express"
                }
              },
              "Content-Type": {
                "schema": {
                  "type": "string",
                  "example": "application/json; charset=utf-8"
                }
              },
              "Content-Length": {
                "schema": {
                  "type": "integer",
                  "example": "77"
                }
              },
              "ETag": {
                "schema": {
                  "type": "string",
                  "example": "W/\"4d-hXl0LH73/g0yCXDTQaVj/ZRgAaE\""
                }
              },
              "Date": {
                "schema": {
                  "type": "string",
                  "example": "Sun, 22 May 2022 20:14:46 GMT"
                }
              },
              "Connection": {
                "schema": {
                  "type": "string",
                  "example": "keep-alive"
                }
              },
              "Keep-Alive": {
                "schema": {
                  "type": "string",
                  "example": "timeout=5"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                },
                "example": {
                  "error": {
                    "name": "Auth.EnsureAuthorizationError",
                    "reason": ["invalid token"]
                  }
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "headers": {
              "X-Powered-By": {
                "schema": {
                  "type": "string",
                  "example": "Express"
                }
              },
              "Content-Type": {
                "schema": {
                  "type": "string",
                  "example": "application/json; charset=utf-8"
                }
              },
              "Content-Length": {
                "schema": {
                  "type": "integer",
                  "example": "104"
                }
              },
              "ETag": {
                "schema": {
                  "type": "string",
                  "example": "W/\"68-qeM+0QGZrrJQJet9fODRfYfAFPA\""
                }
              },
              "Date": {
                "schema": {
                  "type": "string",
                  "example": "Sun, 22 May 2022 20:15:25 GMT"
                }
              },
              "Connection": {
                "schema": {
                  "type": "string",
                  "example": "keep-alive"
                }
              },
              "Keep-Alive": {
                "schema": {
                  "type": "string",
                  "example": "timeout=5"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                },
                "example": {
                  "error": {
                    "name": "Customer.NotFound",
                    "reason": [
                      "customer with id: 628a78a06ef79700dead3302 not found"
                    ]
                  }
                }
              }
            }
          }
        }
      },
      "get": {
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "tags": ["Customer"],
        "summary": "Get Customer",
        "parameters": [
          {
            "name": "customerId",
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "headers": {
              "X-Powered-By": {
                "schema": {
                  "type": "string",
                  "example": "Express"
                }
              },
              "Content-Type": {
                "schema": {
                  "type": "string",
                  "example": "application/json; charset=utf-8"
                }
              },
              "Content-Length": {
                "schema": {
                  "type": "integer",
                  "example": "951"
                }
              },
              "ETag": {
                "schema": {
                  "type": "string",
                  "example": "W/\"3b7-zSU+BjciQ2civpivE7jw4mW+Dh8\""
                }
              },
              "Date": {
                "schema": {
                  "type": "string",
                  "example": "Sun, 22 May 2022 20:37:08 GMT"
                }
              },
              "Connection": {
                "schema": {
                  "type": "string",
                  "example": "keep-alive"
                }
              },
              "Keep-Alive": {
                "schema": {
                  "type": "string",
                  "example": "timeout=5"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                },
                "example": {
                  "data": {
                    "name": "John",
                    "surname": "Doe",
                    "email": "john@doe.com",
                    "createdBy": "628a6a5d76124515cb2113ea",
                    "updatedBy": "628a6a5d76124515cb2113ea",
                    "createdAt": "2022-05-22T17:53:36.608Z",
                    "updatedAt": "2022-05-22T20:29:09.899Z",
                    "id": "628a78a06ef79700dead3301",
                    "photoUrl": "http://localhost:9000/crm-customers-bucket/628a78a06ef79700dead3301/photo.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20220522%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20220522T203708Z&X-Amz-Expires=3600&X-Amz-Signature=953f8e1757306414a4fd92e7466891e0f1de64eecf757e70b326b7b41ba8a173&X-Amz-SignedHeaders=host"
                  },
                  "links": [
                    {
                      "rel": "self",
                      "type": "GET",
                      "href": "/v1/customers/628a78a06ef79700dead3301"
                    },
                    {
                      "rel": "deleteCustomer",
                      "type": "DELETE",
                      "href": "/v1/customers/628a78a06ef79700dead3301"
                    },
                    {
                      "rel": "updateCustomer",
                      "type": "PUT",
                      "href": "/v1/customers/628a78a06ef79700dead3301"
                    },
                    {
                      "rel": "uploadPhoto",
                      "type": "PATCH",
                      "href": "/v1/customers/628a78a06ef79700dead3301/photo"
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "headers": {
              "X-Powered-By": {
                "schema": {
                  "type": "string",
                  "example": "Express"
                }
              },
              "Content-Type": {
                "schema": {
                  "type": "string",
                  "example": "application/json; charset=utf-8"
                }
              },
              "Content-Length": {
                "schema": {
                  "type": "integer",
                  "example": "76"
                }
              },
              "ETag": {
                "schema": {
                  "type": "string",
                  "example": "W/\"4c-1j5ZjqAFiWCm5v8fsQ5y1JDekSs\""
                }
              },
              "Date": {
                "schema": {
                  "type": "string",
                  "example": "Sun, 22 May 2022 20:37:20 GMT"
                }
              },
              "Connection": {
                "schema": {
                  "type": "string",
                  "example": "keep-alive"
                }
              },
              "Keep-Alive": {
                "schema": {
                  "type": "string",
                  "example": "timeout=5"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                },
                "example": {
                  "error": {
                    "name": "ValidationError",
                    "reason": ["params.customerId must be a valid id"]
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "headers": {
              "X-Powered-By": {
                "schema": {
                  "type": "string",
                  "example": "Express"
                }
              },
              "Content-Type": {
                "schema": {
                  "type": "string",
                  "example": "application/json; charset=utf-8"
                }
              },
              "Content-Length": {
                "schema": {
                  "type": "integer",
                  "example": "92"
                }
              },
              "ETag": {
                "schema": {
                  "type": "string",
                  "example": "W/\"5c-wawzhE8/V+XQPiLHYiE7v3G0FPM\""
                }
              },
              "Date": {
                "schema": {
                  "type": "string",
                  "example": "Sun, 22 May 2022 20:38:10 GMT"
                }
              },
              "Connection": {
                "schema": {
                  "type": "string",
                  "example": "keep-alive"
                }
              },
              "Keep-Alive": {
                "schema": {
                  "type": "string",
                  "example": "timeout=5"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                },
                "example": {
                  "error": {
                    "name": "Auth.EnsureAuthorizationError",
                    "reason": ["missing authorization header"]
                  }
                }
              }
            }
          }
        }
      },
      "delete": {
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "tags": ["Customer"],
        "summary": "Delete Customer",
        "parameters": [
          {
            "name": "customerId",
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "No Content",
            "headers": {
              "X-Powered-By": {
                "schema": {
                  "type": "string",
                  "example": "Express"
                }
              },
              "ETag": {
                "schema": {
                  "type": "string",
                  "example": "W/\"b-fhQcczzxGwaoxmXpXwnFoXY79UQ\""
                }
              },
              "Date": {
                "schema": {
                  "type": "string",
                  "example": "Sun, 22 May 2022 20:40:13 GMT"
                }
              },
              "Connection": {
                "schema": {
                  "type": "string",
                  "example": "keep-alive"
                }
              },
              "Keep-Alive": {
                "schema": {
                  "type": "string",
                  "example": "timeout=5"
                }
              }
            },
            "content": {
              "text/plain": {
                "schema": {
                  "type": "string"
                },
                "example": null
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "headers": {
              "X-Powered-By": {
                "schema": {
                  "type": "string",
                  "example": "Express"
                }
              },
              "Content-Type": {
                "schema": {
                  "type": "string",
                  "example": "application/json; charset=utf-8"
                }
              },
              "Content-Length": {
                "schema": {
                  "type": "integer",
                  "example": "76"
                }
              },
              "ETag": {
                "schema": {
                  "type": "string",
                  "example": "W/\"4c-1j5ZjqAFiWCm5v8fsQ5y1JDekSs\""
                }
              },
              "Date": {
                "schema": {
                  "type": "string",
                  "example": "Sun, 22 May 2022 20:40:00 GMT"
                }
              },
              "Connection": {
                "schema": {
                  "type": "string",
                  "example": "keep-alive"
                }
              },
              "Keep-Alive": {
                "schema": {
                  "type": "string",
                  "example": "timeout=5"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                },
                "example": {
                  "error": {
                    "name": "ValidationError",
                    "reason": ["params.customerId must be a valid id"]
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "headers": {
              "X-Powered-By": {
                "schema": {
                  "type": "string",
                  "example": "Express"
                }
              },
              "Content-Type": {
                "schema": {
                  "type": "string",
                  "example": "application/json; charset=utf-8"
                }
              },
              "Content-Length": {
                "schema": {
                  "type": "integer",
                  "example": "92"
                }
              },
              "ETag": {
                "schema": {
                  "type": "string",
                  "example": "W/\"5c-wawzhE8/V+XQPiLHYiE7v3G0FPM\""
                }
              },
              "Date": {
                "schema": {
                  "type": "string",
                  "example": "Sun, 22 May 2022 20:39:20 GMT"
                }
              },
              "Connection": {
                "schema": {
                  "type": "string",
                  "example": "keep-alive"
                }
              },
              "Keep-Alive": {
                "schema": {
                  "type": "string",
                  "example": "timeout=5"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                },
                "example": {
                  "error": {
                    "name": "Auth.EnsureAuthorizationError",
                    "reason": ["missing authorization header"]
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v1/customers/{customerId}/photo": {
      "patch": {
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "tags": ["Customer"],
        "summary": "Upload Customer Photo",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "example": {
                  "extension": "png"
                }
              }
            }
          }
        },
        "parameters": [
          {
            "name": "customerId",
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "headers": {
              "X-Powered-By": {
                "schema": {
                  "type": "string",
                  "example": "Express"
                }
              },
              "Content-Type": {
                "schema": {
                  "type": "string",
                  "example": "application/json; charset=utf-8"
                }
              },
              "Content-Length": {
                "schema": {
                  "type": "integer",
                  "example": "510"
                }
              },
              "ETag": {
                "schema": {
                  "type": "string",
                  "example": "W/\"1fe-sTjilMKrYkLaruTlmlnwmW+sORU\""
                }
              },
              "Date": {
                "schema": {
                  "type": "string",
                  "example": "Sun, 22 May 2022 20:24:59 GMT"
                }
              },
              "Connection": {
                "schema": {
                  "type": "string",
                  "example": "keep-alive"
                }
              },
              "Keep-Alive": {
                "schema": {
                  "type": "string",
                  "example": "timeout=5"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                },
                "example": {
                  "data": {
                    "provider": "aws",
                    "bucket": "crm-customers-bucket",
                    "key": "628a78a06ef79700dead3301/photo.png",
                    "signedUrl": "http://localhost:9000/crm-customers-bucket/628a78a06ef79700dead3301/photo.png?Content-Type=image%2F%2A&X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=minioadmin%2F20220522%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20220522T202459Z&X-Amz-Expires=3600&X-Amz-Signature=6ef3fa342c242cab52e111b007b3651085c9022cbefc27652829d2235eba92d4&X-Amz-SignedHeaders=host%3Bx-amz-acl&x-amz-acl=public-read"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "headers": {
              "X-Powered-By": {
                "schema": {
                  "type": "string",
                  "example": "Express"
                }
              },
              "Content-Type": {
                "schema": {
                  "type": "string",
                  "example": "application/json; charset=utf-8"
                }
              },
              "Content-Length": {
                "schema": {
                  "type": "integer",
                  "example": "156"
                }
              },
              "ETag": {
                "schema": {
                  "type": "string",
                  "example": "W/\"9c-qp+WusfCOH+JDSLh6TZ5oXtqCN4\""
                }
              },
              "Date": {
                "schema": {
                  "type": "string",
                  "example": "Sun, 22 May 2022 20:28:52 GMT"
                }
              },
              "Connection": {
                "schema": {
                  "type": "string",
                  "example": "keep-alive"
                }
              },
              "Keep-Alive": {
                "schema": {
                  "type": "string",
                  "example": "timeout=5"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                },
                "example": {
                  "error": {
                    "name": "ValidationError",
                    "reason": [
                      "body.extension must be one of the following values: jpg, png, jpeg, bpm, webp",
                      "params.customerId must be a valid id"
                    ]
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "headers": {
              "X-Powered-By": {
                "schema": {
                  "type": "string",
                  "example": "Express"
                }
              },
              "Content-Type": {
                "schema": {
                  "type": "string",
                  "example": "application/json; charset=utf-8"
                }
              },
              "Content-Length": {
                "schema": {
                  "type": "integer",
                  "example": "92"
                }
              },
              "ETag": {
                "schema": {
                  "type": "string",
                  "example": "W/\"5c-wawzhE8/V+XQPiLHYiE7v3G0FPM\""
                }
              },
              "Date": {
                "schema": {
                  "type": "string",
                  "example": "Sun, 22 May 2022 20:30:04 GMT"
                }
              },
              "Connection": {
                "schema": {
                  "type": "string",
                  "example": "keep-alive"
                }
              },
              "Keep-Alive": {
                "schema": {
                  "type": "string",
                  "example": "timeout=5"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                },
                "example": {
                  "error": {
                    "name": "Auth.EnsureAuthorizationError",
                    "reason": ["missing authorization header"]
                  }
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "headers": {
              "X-Powered-By": {
                "schema": {
                  "type": "string",
                  "example": "Express"
                }
              },
              "Content-Type": {
                "schema": {
                  "type": "string",
                  "example": "application/json; charset=utf-8"
                }
              },
              "Content-Length": {
                "schema": {
                  "type": "integer",
                  "example": "104"
                }
              },
              "ETag": {
                "schema": {
                  "type": "string",
                  "example": "W/\"68-qeM+0QGZrrJQJet9fODRfYfAFPA\""
                }
              },
              "Date": {
                "schema": {
                  "type": "string",
                  "example": "Sun, 22 May 2022 20:29:29 GMT"
                }
              },
              "Connection": {
                "schema": {
                  "type": "string",
                  "example": "keep-alive"
                }
              },
              "Keep-Alive": {
                "schema": {
                  "type": "string",
                  "example": "timeout=5"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                },
                "example": {
                  "error": {
                    "name": "Customer.NotFound",
                    "reason": [
                      "customer with id: 628a78a06ef79700dead3302 not found"
                    ]
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v1/users": {
      "post": {
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "tags": ["User"],
        "summary": "Create User",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "example": {
                  "email": "user2@test.com",
                  "password": "12345678",
                  "role": "user"
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Created",
            "headers": {
              "X-Powered-By": {
                "schema": {
                  "type": "string",
                  "example": "Express"
                }
              },
              "Content-Type": {
                "schema": {
                  "type": "string",
                  "example": "application/json; charset=utf-8"
                }
              },
              "Content-Length": {
                "schema": {
                  "type": "integer",
                  "example": "492"
                }
              },
              "ETag": {
                "schema": {
                  "type": "string",
                  "example": "W/\"1ec-uJuvTzcdrQ6OL73rHIEC/rx3osM\""
                }
              },
              "Date": {
                "schema": {
                  "type": "string",
                  "example": "Sun, 22 May 2022 17:01:19 GMT"
                }
              },
              "Connection": {
                "schema": {
                  "type": "string",
                  "example": "keep-alive"
                }
              },
              "Keep-Alive": {
                "schema": {
                  "type": "string",
                  "example": "timeout=5"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                },
                "example": {
                  "data": {
                    "email": "user2@test.com",
                    "role": "user",
                    "createdAt": "2022-05-22T17:01:19.961Z",
                    "updatedAt": "2022-05-22T17:01:19.961Z",
                    "id": "628a6c5fdebb1befff8735f0"
                  },
                  "links": [
                    {
                      "rel": "self",
                      "type": "GET",
                      "href": "/v1/users/628a6c5fdebb1befff8735f0"
                    },
                    {
                      "rel": "deleteUser",
                      "type": "DELETE",
                      "href": "/v1/users/628a6c5fdebb1befff8735f0"
                    },
                    {
                      "rel": "updateUser",
                      "type": "PUT",
                      "href": "/v1/users/628a6c5fdebb1befff8735f0"
                    },
                    {
                      "rel": "promoteToAdmin",
                      "type": "PATCH",
                      "href": "/v1/users/628a6c5fdebb1befff8735f0/promote"
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "headers": {
              "X-Powered-By": {
                "schema": {
                  "type": "string",
                  "example": "Express"
                }
              },
              "Content-Type": {
                "schema": {
                  "type": "string",
                  "example": "application/json; charset=utf-8"
                }
              },
              "Content-Length": {
                "schema": {
                  "type": "integer",
                  "example": "179"
                }
              },
              "ETag": {
                "schema": {
                  "type": "string",
                  "example": "W/\"b3-arXXO4JSaGR/nVdFB//KWsYA+gQ\""
                }
              },
              "Date": {
                "schema": {
                  "type": "string",
                  "example": "Sun, 22 May 2022 17:00:20 GMT"
                }
              },
              "Connection": {
                "schema": {
                  "type": "string",
                  "example": "keep-alive"
                }
              },
              "Keep-Alive": {
                "schema": {
                  "type": "string",
                  "example": "timeout=5"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                },
                "example": {
                  "error": {
                    "name": "ValidationError",
                    "reason": [
                      "body.email must be a valid email",
                      "body.password must be at least 8 characters",
                      "body.role must be one of the following values: user, admin"
                    ]
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "headers": {
              "X-Powered-By": {
                "schema": {
                  "type": "string",
                  "example": "Express"
                }
              },
              "Content-Type": {
                "schema": {
                  "type": "string",
                  "example": "application/json; charset=utf-8"
                }
              },
              "Content-Length": {
                "schema": {
                  "type": "integer",
                  "example": "92"
                }
              },
              "ETag": {
                "schema": {
                  "type": "string",
                  "example": "W/\"5c-wawzhE8/V+XQPiLHYiE7v3G0FPM\""
                }
              },
              "Date": {
                "schema": {
                  "type": "string",
                  "example": "Sun, 22 May 2022 17:02:01 GMT"
                }
              },
              "Connection": {
                "schema": {
                  "type": "string",
                  "example": "keep-alive"
                }
              },
              "Keep-Alive": {
                "schema": {
                  "type": "string",
                  "example": "timeout=5"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                },
                "example": {
                  "error": {
                    "name": "Auth.EnsureAuthorizationError",
                    "reason": ["missing authorization header"]
                  }
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "headers": {
              "X-Powered-By": {
                "schema": {
                  "type": "string",
                  "example": "Express"
                }
              },
              "Content-Type": {
                "schema": {
                  "type": "string",
                  "example": "application/json; charset=utf-8"
                }
              },
              "Content-Length": {
                "schema": {
                  "type": "integer",
                  "example": "79"
                }
              },
              "ETag": {
                "schema": {
                  "type": "string",
                  "example": "W/\"4f-Q39GsNgbSxcg8fFQUIVuOCrfvxg\""
                }
              },
              "Date": {
                "schema": {
                  "type": "string",
                  "example": "Sun, 22 May 2022 16:58:02 GMT"
                }
              },
              "Connection": {
                "schema": {
                  "type": "string",
                  "example": "keep-alive"
                }
              },
              "Keep-Alive": {
                "schema": {
                  "type": "string",
                  "example": "timeout=5"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                },
                "example": {
                  "error": {
                    "name": "Auth.OnlyAdminError",
                    "reason": ["restricted to admin users"]
                  }
                }
              }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "headers": {
              "X-Powered-By": {
                "schema": {
                  "type": "string",
                  "example": "Express"
                }
              },
              "Content-Type": {
                "schema": {
                  "type": "string",
                  "example": "application/json; charset=utf-8"
                }
              },
              "Content-Length": {
                "schema": {
                  "type": "integer",
                  "example": "91"
                }
              },
              "ETag": {
                "schema": {
                  "type": "string",
                  "example": "W/\"5b-YsODEz/X+6IpqQYYbOyDkkEWT64\""
                }
              },
              "Date": {
                "schema": {
                  "type": "string",
                  "example": "Sun, 22 May 2022 16:59:25 GMT"
                }
              },
              "Connection": {
                "schema": {
                  "type": "string",
                  "example": "keep-alive"
                }
              },
              "Keep-Alive": {
                "schema": {
                  "type": "string",
                  "example": "timeout=5"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                },
                "example": {
                  "error": {
                    "name": "User.EmailAlreadyTaken",
                    "reason": ["email: user@test.com already taken"]
                  }
                }
              }
            }
          }
        }
      },
      "get": {
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "tags": ["User"],
        "summary": "List Users",
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "schema": {
              "type": "number"
            },
            "example": "1"
          },
          {
            "name": "limit",
            "in": "query",
            "schema": {
              "type": "number"
            },
            "example": "100"
          },
          {
            "name": "search",
            "in": "query",
            "schema": {
              "type": "string"
            },
            "example": "jonh doe"
          },
          {
            "name": "role",
            "in": "query",
            "schema": {
              "type": "string"
            },
            "example": "admin"
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "headers": {
              "X-Powered-By": {
                "schema": {
                  "type": "string",
                  "example": "Express"
                }
              },
              "Content-Type": {
                "schema": {
                  "type": "string",
                  "example": "application/json; charset=utf-8"
                }
              },
              "Content-Length": {
                "schema": {
                  "type": "integer",
                  "example": "1579"
                }
              },
              "ETag": {
                "schema": {
                  "type": "string",
                  "example": "W/\"62b-f7MoiusFxL7o+JlIf4uYnBWh/Ak\""
                }
              },
              "Date": {
                "schema": {
                  "type": "string",
                  "example": "Sun, 22 May 2022 17:09:33 GMT"
                }
              },
              "Connection": {
                "schema": {
                  "type": "string",
                  "example": "keep-alive"
                }
              },
              "Keep-Alive": {
                "schema": {
                  "type": "string",
                  "example": "timeout=5"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                },
                "examples": {
                  "example-0": {
                    "summary": "Success",
                    "value": {
                      "data": [
                        {
                          "email": "root@root.com",
                          "role": "admin",
                          "createdAt": "2022-05-22T16:52:45.109Z",
                          "updatedAt": "2022-05-22T16:52:45.109Z",
                          "id": "628a6a5d76124515cb2113ea",
                          "links": [
                            {
                              "rel": "self",
                              "type": "GET",
                              "href": "/v1/users/628a6a5d76124515cb2113ea"
                            },
                            {
                              "rel": "deleteUser",
                              "type": "DELETE",
                              "href": "/v1/users/628a6a5d76124515cb2113ea"
                            },
                            {
                              "rel": "updateUser",
                              "type": "PUT",
                              "href": "/v1/users/628a6a5d76124515cb2113ea"
                            },
                            {
                              "rel": "promoteToAdmin",
                              "type": "PATCH",
                              "href": "/v1/users/628a6a5d76124515cb2113ea/promote"
                            }
                          ]
                        },
                        {
                          "email": "user@test.com",
                          "role": "user",
                          "createdAt": "2022-05-22T16:57:12.967Z",
                          "updatedAt": "2022-05-22T16:57:12.967Z",
                          "id": "628a6b68debb1befff8735ea",
                          "links": [
                            {
                              "rel": "self",
                              "type": "GET",
                              "href": "/v1/users/628a6b68debb1befff8735ea"
                            },
                            {
                              "rel": "deleteUser",
                              "type": "DELETE",
                              "href": "/v1/users/628a6b68debb1befff8735ea"
                            },
                            {
                              "rel": "updateUser",
                              "type": "PUT",
                              "href": "/v1/users/628a6b68debb1befff8735ea"
                            },
                            {
                              "rel": "promoteToAdmin",
                              "type": "PATCH",
                              "href": "/v1/users/628a6b68debb1befff8735ea/promote"
                            }
                          ]
                        },
                        {
                          "email": "user2@test.com",
                          "role": "user",
                          "createdAt": "2022-05-22T17:01:19.961Z",
                          "updatedAt": "2022-05-22T17:05:07.184Z",
                          "id": "628a6c5fdebb1befff8735f0",
                          "links": [
                            {
                              "rel": "self",
                              "type": "GET",
                              "href": "/v1/users/628a6c5fdebb1befff8735f0"
                            },
                            {
                              "rel": "deleteUser",
                              "type": "DELETE",
                              "href": "/v1/users/628a6c5fdebb1befff8735f0"
                            },
                            {
                              "rel": "updateUser",
                              "type": "PUT",
                              "href": "/v1/users/628a6c5fdebb1befff8735f0"
                            },
                            {
                              "rel": "promoteToAdmin",
                              "type": "PATCH",
                              "href": "/v1/users/628a6c5fdebb1befff8735f0/promote"
                            }
                          ]
                        }
                      ],
                      "links": [
                        {
                          "rel": "self",
                          "type": "GET",
                          "href": "/v1/users?page=1"
                        },
                        {
                          "rel": "next",
                          "type": "GET",
                          "href": "/v1/users?page=2"
                        }
                      ]
                    }
                  },
                  "example-1": {
                    "summary": "Queried Result",
                    "value": {
                      "data": [
                        {
                          "email": "root@root.com",
                          "role": "admin",
                          "createdAt": "2022-05-22T16:52:45.109Z",
                          "updatedAt": "2022-05-22T16:52:45.109Z",
                          "id": "628a6a5d76124515cb2113ea",
                          "links": [
                            {
                              "rel": "self",
                              "type": "GET",
                              "href": "/v1/users/628a6a5d76124515cb2113ea"
                            },
                            {
                              "rel": "deleteUser",
                              "type": "DELETE",
                              "href": "/v1/users/628a6a5d76124515cb2113ea"
                            },
                            {
                              "rel": "updateUser",
                              "type": "PUT",
                              "href": "/v1/users/628a6a5d76124515cb2113ea"
                            },
                            {
                              "rel": "promoteToAdmin",
                              "type": "PATCH",
                              "href": "/v1/users/628a6a5d76124515cb2113ea/promote"
                            }
                          ]
                        }
                      ],
                      "links": [
                        {
                          "rel": "self",
                          "type": "GET",
                          "href": "/v1/users?page=1&limit=50&role=admin&search=.com"
                        },
                        {
                          "rel": "next",
                          "type": "GET",
                          "href": "/v1/users?page=2&limit=50&role=admin&search=.com"
                        }
                      ]
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "headers": {
              "X-Powered-By": {
                "schema": {
                  "type": "string",
                  "example": "Express"
                }
              },
              "Content-Type": {
                "schema": {
                  "type": "string",
                  "example": "application/json; charset=utf-8"
                }
              },
              "Content-Length": {
                "schema": {
                  "type": "integer",
                  "example": "195"
                }
              },
              "ETag": {
                "schema": {
                  "type": "string",
                  "example": "W/\"c3-S0zyzilnjwlmvvK1G0cjJsBuB9w\""
                }
              },
              "Date": {
                "schema": {
                  "type": "string",
                  "example": "Sun, 22 May 2022 17:13:57 GMT"
                }
              },
              "Connection": {
                "schema": {
                  "type": "string",
                  "example": "keep-alive"
                }
              },
              "Keep-Alive": {
                "schema": {
                  "type": "string",
                  "example": "timeout=5"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                },
                "example": {
                  "error": {
                    "name": "ValidationError",
                    "reason": [
                      "query.page must be greater than or equal to 1",
                      "query.limit must be less than or equal to 100",
                      "query.role must be one of the following values: user, admin"
                    ]
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "headers": {
              "X-Powered-By": {
                "schema": {
                  "type": "string",
                  "example": "Express"
                }
              },
              "Content-Type": {
                "schema": {
                  "type": "string",
                  "example": "application/json; charset=utf-8"
                }
              },
              "Content-Length": {
                "schema": {
                  "type": "integer",
                  "example": "92"
                }
              },
              "ETag": {
                "schema": {
                  "type": "string",
                  "example": "W/\"5c-wawzhE8/V+XQPiLHYiE7v3G0FPM\""
                }
              },
              "Date": {
                "schema": {
                  "type": "string",
                  "example": "Sun, 22 May 2022 17:09:15 GMT"
                }
              },
              "Connection": {
                "schema": {
                  "type": "string",
                  "example": "keep-alive"
                }
              },
              "Keep-Alive": {
                "schema": {
                  "type": "string",
                  "example": "timeout=5"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                },
                "example": {
                  "error": {
                    "name": "Auth.EnsureAuthorizationError",
                    "reason": ["missing authorization header"]
                  }
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "headers": {
              "X-Powered-By": {
                "schema": {
                  "type": "string",
                  "example": "Express"
                }
              },
              "Content-Type": {
                "schema": {
                  "type": "string",
                  "example": "application/json; charset=utf-8"
                }
              },
              "Content-Length": {
                "schema": {
                  "type": "integer",
                  "example": "79"
                }
              },
              "ETag": {
                "schema": {
                  "type": "string",
                  "example": "W/\"4f-Q39GsNgbSxcg8fFQUIVuOCrfvxg\""
                }
              },
              "Date": {
                "schema": {
                  "type": "string",
                  "example": "Fri, 20 May 2022 21:05:40 GMT"
                }
              },
              "Connection": {
                "schema": {
                  "type": "string",
                  "example": "keep-alive"
                }
              },
              "Keep-Alive": {
                "schema": {
                  "type": "string",
                  "example": "timeout=5"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                },
                "example": {
                  "error": {
                    "name": "Auth.OnlyAdminError",
                    "reason": ["restricted to admin users"]
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v1/users/{userId}": {
      "put": {
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "tags": ["User"],
        "summary": "Update User",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "example": {
                  "password": "invalid"
                }
              }
            }
          }
        },
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "headers": {
              "X-Powered-By": {
                "schema": {
                  "type": "string",
                  "example": "Express"
                }
              },
              "Content-Type": {
                "schema": {
                  "type": "string",
                  "example": "application/json; charset=utf-8"
                }
              },
              "Content-Length": {
                "schema": {
                  "type": "integer",
                  "example": "492"
                }
              },
              "ETag": {
                "schema": {
                  "type": "string",
                  "example": "W/\"1ec-XuoSeNAJHT4dIRIWqcW3LYsOYXE\""
                }
              },
              "Date": {
                "schema": {
                  "type": "string",
                  "example": "Sun, 22 May 2022 17:05:07 GMT"
                }
              },
              "Connection": {
                "schema": {
                  "type": "string",
                  "example": "keep-alive"
                }
              },
              "Keep-Alive": {
                "schema": {
                  "type": "string",
                  "example": "timeout=5"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                },
                "example": {
                  "data": {
                    "email": "user2@test.com",
                    "role": "user",
                    "createdAt": "2022-05-22T17:01:19.961Z",
                    "updatedAt": "2022-05-22T17:05:07.184Z",
                    "id": "628a6c5fdebb1befff8735f0"
                  },
                  "links": [
                    {
                      "rel": "self",
                      "type": "GET",
                      "href": "/v1/users/628a6c5fdebb1befff8735f0"
                    },
                    {
                      "rel": "deleteUser",
                      "type": "DELETE",
                      "href": "/v1/users/628a6c5fdebb1befff8735f0"
                    },
                    {
                      "rel": "updateUser",
                      "type": "PUT",
                      "href": "/v1/users/628a6c5fdebb1befff8735f0"
                    },
                    {
                      "rel": "promoteToAdmin",
                      "type": "PATCH",
                      "href": "/v1/users/628a6c5fdebb1befff8735f0/promote"
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "headers": {
              "X-Powered-By": {
                "schema": {
                  "type": "string",
                  "example": "Express"
                }
              },
              "Content-Type": {
                "schema": {
                  "type": "string",
                  "example": "application/json; charset=utf-8"
                }
              },
              "Content-Length": {
                "schema": {
                  "type": "integer",
                  "example": "118"
                }
              },
              "ETag": {
                "schema": {
                  "type": "string",
                  "example": "W/\"76-XV8/cP1cTE2yPvjQrIuqtAIWVeQ\""
                }
              },
              "Date": {
                "schema": {
                  "type": "string",
                  "example": "Sun, 22 May 2022 17:05:46 GMT"
                }
              },
              "Connection": {
                "schema": {
                  "type": "string",
                  "example": "keep-alive"
                }
              },
              "Keep-Alive": {
                "schema": {
                  "type": "string",
                  "example": "timeout=5"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                },
                "example": {
                  "error": {
                    "name": "ValidationError",
                    "reason": [
                      "body.password must be at least 8 characters",
                      "params.userId must be a valid id"
                    ]
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "headers": {
              "X-Powered-By": {
                "schema": {
                  "type": "string",
                  "example": "Express"
                }
              },
              "Content-Type": {
                "schema": {
                  "type": "string",
                  "example": "application/json; charset=utf-8"
                }
              },
              "Content-Length": {
                "schema": {
                  "type": "integer",
                  "example": "92"
                }
              },
              "ETag": {
                "schema": {
                  "type": "string",
                  "example": "W/\"5c-wawzhE8/V+XQPiLHYiE7v3G0FPM\""
                }
              },
              "Date": {
                "schema": {
                  "type": "string",
                  "example": "Sun, 22 May 2022 17:02:01 GMT"
                }
              },
              "Connection": {
                "schema": {
                  "type": "string",
                  "example": "keep-alive"
                }
              },
              "Keep-Alive": {
                "schema": {
                  "type": "string",
                  "example": "timeout=5"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                },
                "example": {
                  "error": {
                    "name": "Auth.EnsureAuthorizationError",
                    "reason": ["missing authorization header"]
                  }
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "headers": {
              "X-Powered-By": {
                "schema": {
                  "type": "string",
                  "example": "Express"
                }
              },
              "Content-Type": {
                "schema": {
                  "type": "string",
                  "example": "application/json; charset=utf-8"
                }
              },
              "Content-Length": {
                "schema": {
                  "type": "integer",
                  "example": "79"
                }
              },
              "ETag": {
                "schema": {
                  "type": "string",
                  "example": "W/\"4f-Q39GsNgbSxcg8fFQUIVuOCrfvxg\""
                }
              },
              "Date": {
                "schema": {
                  "type": "string",
                  "example": "Sun, 22 May 2022 16:58:02 GMT"
                }
              },
              "Connection": {
                "schema": {
                  "type": "string",
                  "example": "keep-alive"
                }
              },
              "Keep-Alive": {
                "schema": {
                  "type": "string",
                  "example": "timeout=5"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                },
                "example": {
                  "error": {
                    "name": "Auth.OnlyAdminError",
                    "reason": ["restricted to admin users"]
                  }
                }
              }
            }
          }
        }
      },
      "get": {
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "tags": ["User"],
        "summary": "Get User",
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "headers": {
              "X-Powered-By": {
                "schema": {
                  "type": "string",
                  "example": "Express"
                }
              },
              "Content-Type": {
                "schema": {
                  "type": "string",
                  "example": "application/json; charset=utf-8"
                }
              },
              "Content-Length": {
                "schema": {
                  "type": "integer",
                  "example": "492"
                }
              },
              "ETag": {
                "schema": {
                  "type": "string",
                  "example": "W/\"1ec-3pT3ph/2i1kXIjS6ffnzYJewr0k\""
                }
              },
              "Date": {
                "schema": {
                  "type": "string",
                  "example": "Sun, 22 May 2022 17:26:30 GMT"
                }
              },
              "Connection": {
                "schema": {
                  "type": "string",
                  "example": "keep-alive"
                }
              },
              "Keep-Alive": {
                "schema": {
                  "type": "string",
                  "example": "timeout=5"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                },
                "example": {
                  "data": {
                    "email": "root@root.com",
                    "role": "admin",
                    "createdAt": "2022-05-22T16:52:45.109Z",
                    "updatedAt": "2022-05-22T16:52:45.109Z",
                    "id": "628a6a5d76124515cb2113ea"
                  },
                  "links": [
                    {
                      "rel": "self",
                      "type": "GET",
                      "href": "/v1/users/628a6a5d76124515cb2113ea"
                    },
                    {
                      "rel": "deleteUser",
                      "type": "DELETE",
                      "href": "/v1/users/628a6a5d76124515cb2113ea"
                    },
                    {
                      "rel": "updateUser",
                      "type": "PUT",
                      "href": "/v1/users/628a6a5d76124515cb2113ea"
                    },
                    {
                      "rel": "promoteToAdmin",
                      "type": "PATCH",
                      "href": "/v1/users/628a6a5d76124515cb2113ea/promote"
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "headers": {
              "X-Powered-By": {
                "schema": {
                  "type": "string",
                  "example": "Express"
                }
              },
              "Content-Type": {
                "schema": {
                  "type": "string",
                  "example": "application/json; charset=utf-8"
                }
              },
              "Content-Length": {
                "schema": {
                  "type": "integer",
                  "example": "72"
                }
              },
              "ETag": {
                "schema": {
                  "type": "string",
                  "example": "W/\"48-hhak5gZPPNZ27VJYDiPnGzdyMc8\""
                }
              },
              "Date": {
                "schema": {
                  "type": "string",
                  "example": "Sun, 22 May 2022 17:36:46 GMT"
                }
              },
              "Connection": {
                "schema": {
                  "type": "string",
                  "example": "keep-alive"
                }
              },
              "Keep-Alive": {
                "schema": {
                  "type": "string",
                  "example": "timeout=5"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                },
                "example": {
                  "error": {
                    "name": "ValidationError",
                    "reason": ["params.userId must be a valid id"]
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "headers": {
              "X-Powered-By": {
                "schema": {
                  "type": "string",
                  "example": "Express"
                }
              },
              "Content-Type": {
                "schema": {
                  "type": "string",
                  "example": "application/json; charset=utf-8"
                }
              },
              "Content-Length": {
                "schema": {
                  "type": "integer",
                  "example": "92"
                }
              },
              "ETag": {
                "schema": {
                  "type": "string",
                  "example": "W/\"5c-wawzhE8/V+XQPiLHYiE7v3G0FPM\""
                }
              },
              "Date": {
                "schema": {
                  "type": "string",
                  "example": "Sun, 22 May 2022 17:27:04 GMT"
                }
              },
              "Connection": {
                "schema": {
                  "type": "string",
                  "example": "keep-alive"
                }
              },
              "Keep-Alive": {
                "schema": {
                  "type": "string",
                  "example": "timeout=5"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                },
                "example": {
                  "error": {
                    "name": "Auth.EnsureAuthorizationError",
                    "reason": ["missing authorization header"]
                  }
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "headers": {
              "X-Powered-By": {
                "schema": {
                  "type": "string",
                  "example": "Express"
                }
              },
              "Content-Type": {
                "schema": {
                  "type": "string",
                  "example": "application/json; charset=utf-8"
                }
              },
              "Content-Length": {
                "schema": {
                  "type": "integer",
                  "example": "79"
                }
              },
              "ETag": {
                "schema": {
                  "type": "string",
                  "example": "W/\"4f-Q39GsNgbSxcg8fFQUIVuOCrfvxg\""
                }
              },
              "Date": {
                "schema": {
                  "type": "string",
                  "example": "Sun, 22 May 2022 17:45:37 GMT"
                }
              },
              "Connection": {
                "schema": {
                  "type": "string",
                  "example": "keep-alive"
                }
              },
              "Keep-Alive": {
                "schema": {
                  "type": "string",
                  "example": "timeout=5"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                },
                "example": {
                  "error": {
                    "name": "Auth.OnlyAdminError",
                    "reason": ["restricted to admin users"]
                  }
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "headers": {
              "X-Powered-By": {
                "schema": {
                  "type": "string",
                  "example": "Express"
                }
              },
              "Content-Type": {
                "schema": {
                  "type": "string",
                  "example": "application/json; charset=utf-8"
                }
              },
              "Content-Length": {
                "schema": {
                  "type": "integer",
                  "example": "96"
                }
              },
              "ETag": {
                "schema": {
                  "type": "string",
                  "example": "W/\"60-aEh7eqj55b8s6xOS7GNJzqu45NI\""
                }
              },
              "Date": {
                "schema": {
                  "type": "string",
                  "example": "Sun, 22 May 2022 17:43:15 GMT"
                }
              },
              "Connection": {
                "schema": {
                  "type": "string",
                  "example": "keep-alive"
                }
              },
              "Keep-Alive": {
                "schema": {
                  "type": "string",
                  "example": "timeout=5"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                },
                "example": {
                  "error": {
                    "name": "User.NotFound",
                    "reason": [
                      "user with id: 628a6a5d76124515cb2113e2 not found"
                    ]
                  }
                }
              }
            }
          }
        }
      },
      "delete": {
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "tags": ["User"],
        "summary": "Delete User",
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "No Content",
            "headers": {
              "X-Powered-By": {
                "schema": {
                  "type": "string",
                  "example": "Express"
                }
              },
              "ETag": {
                "schema": {
                  "type": "string",
                  "example": "W/\"b-fhQcczzxGwaoxmXpXwnFoXY79UQ\""
                }
              },
              "Date": {
                "schema": {
                  "type": "string",
                  "example": "Sun, 22 May 2022 17:50:40 GMT"
                }
              },
              "Connection": {
                "schema": {
                  "type": "string",
                  "example": "keep-alive"
                }
              },
              "Keep-Alive": {
                "schema": {
                  "type": "string",
                  "example": "timeout=5"
                }
              }
            },
            "content": {
              "text/plain": {
                "schema": {
                  "type": "string"
                },
                "example": null
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "headers": {
              "X-Powered-By": {
                "schema": {
                  "type": "string",
                  "example": "Express"
                }
              },
              "Content-Type": {
                "schema": {
                  "type": "string",
                  "example": "application/json; charset=utf-8"
                }
              },
              "Content-Length": {
                "schema": {
                  "type": "integer",
                  "example": "72"
                }
              },
              "ETag": {
                "schema": {
                  "type": "string",
                  "example": "W/\"48-hhak5gZPPNZ27VJYDiPnGzdyMc8\""
                }
              },
              "Date": {
                "schema": {
                  "type": "string",
                  "example": "Sun, 22 May 2022 17:50:59 GMT"
                }
              },
              "Connection": {
                "schema": {
                  "type": "string",
                  "example": "keep-alive"
                }
              },
              "Keep-Alive": {
                "schema": {
                  "type": "string",
                  "example": "timeout=5"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                },
                "example": {
                  "error": {
                    "name": "ValidationError",
                    "reason": ["params.userId must be a valid id"]
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "headers": {
              "X-Powered-By": {
                "schema": {
                  "type": "string",
                  "example": "Express"
                }
              },
              "Content-Type": {
                "schema": {
                  "type": "string",
                  "example": "application/json; charset=utf-8"
                }
              },
              "Content-Length": {
                "schema": {
                  "type": "integer",
                  "example": "92"
                }
              },
              "ETag": {
                "schema": {
                  "type": "string",
                  "example": "W/\"5c-wawzhE8/V+XQPiLHYiE7v3G0FPM\""
                }
              },
              "Date": {
                "schema": {
                  "type": "string",
                  "example": "Sun, 22 May 2022 17:50:20 GMT"
                }
              },
              "Connection": {
                "schema": {
                  "type": "string",
                  "example": "keep-alive"
                }
              },
              "Keep-Alive": {
                "schema": {
                  "type": "string",
                  "example": "timeout=5"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                },
                "example": {
                  "error": {
                    "name": "Auth.EnsureAuthorizationError",
                    "reason": ["missing authorization header"]
                  }
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "headers": {
              "X-Powered-By": {
                "schema": {
                  "type": "string",
                  "example": "Express"
                }
              },
              "Content-Type": {
                "schema": {
                  "type": "string",
                  "example": "application/json; charset=utf-8"
                }
              },
              "Content-Length": {
                "schema": {
                  "type": "integer",
                  "example": "79"
                }
              },
              "ETag": {
                "schema": {
                  "type": "string",
                  "example": "W/\"4f-Q39GsNgbSxcg8fFQUIVuOCrfvxg\""
                }
              },
              "Date": {
                "schema": {
                  "type": "string",
                  "example": "Sun, 22 May 2022 17:46:42 GMT"
                }
              },
              "Connection": {
                "schema": {
                  "type": "string",
                  "example": "keep-alive"
                }
              },
              "Keep-Alive": {
                "schema": {
                  "type": "string",
                  "example": "timeout=5"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                },
                "example": {
                  "error": {
                    "name": "Auth.OnlyAdminError",
                    "reason": ["restricted to admin users"]
                  }
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "headers": {
              "X-Powered-By": {
                "schema": {
                  "type": "string",
                  "example": "Express"
                }
              },
              "Content-Type": {
                "schema": {
                  "type": "string",
                  "example": "application/json; charset=utf-8"
                }
              },
              "Content-Length": {
                "schema": {
                  "type": "integer",
                  "example": "96"
                }
              },
              "ETag": {
                "schema": {
                  "type": "string",
                  "example": "W/\"60-e7hDbO+0HKUWLxtAEMFlnyhESZ0\""
                }
              },
              "Date": {
                "schema": {
                  "type": "string",
                  "example": "Sun, 22 May 2022 17:47:39 GMT"
                }
              },
              "Connection": {
                "schema": {
                  "type": "string",
                  "example": "keep-alive"
                }
              },
              "Keep-Alive": {
                "schema": {
                  "type": "string",
                  "example": "timeout=5"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                },
                "example": {
                  "error": {
                    "name": "User.NotFound",
                    "reason": [
                      "user with id: 62880007627cf476aeb6d0cd not found"
                    ]
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v1/users/{userId}/promote": {
      "patch": {
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "tags": ["User"],
        "summary": "Promote User",
        "requestBody": {
          "content": {}
        },
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "headers": {
              "X-Powered-By": {
                "schema": {
                  "type": "string",
                  "example": "Express"
                }
              },
              "Content-Type": {
                "schema": {
                  "type": "string",
                  "example": "application/json; charset=utf-8"
                }
              },
              "Content-Length": {
                "schema": {
                  "type": "integer",
                  "example": "492"
                }
              },
              "ETag": {
                "schema": {
                  "type": "string",
                  "example": "W/\"1ec-Tthg82VchMuVhBxBuG7zDz6u8AM\""
                }
              },
              "Date": {
                "schema": {
                  "type": "string",
                  "example": "Sun, 22 May 2022 17:48:41 GMT"
                }
              },
              "Connection": {
                "schema": {
                  "type": "string",
                  "example": "keep-alive"
                }
              },
              "Keep-Alive": {
                "schema": {
                  "type": "string",
                  "example": "timeout=5"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                },
                "example": {
                  "data": {
                    "email": "user@test.com",
                    "role": "admin",
                    "createdAt": "2022-05-22T16:57:12.967Z",
                    "updatedAt": "2022-05-22T17:48:41.815Z",
                    "id": "628a6b68debb1befff8735ea"
                  },
                  "links": [
                    {
                      "rel": "self",
                      "type": "GET",
                      "href": "/v1/users/628a6b68debb1befff8735ea"
                    },
                    {
                      "rel": "deleteUser",
                      "type": "DELETE",
                      "href": "/v1/users/628a6b68debb1befff8735ea"
                    },
                    {
                      "rel": "updateUser",
                      "type": "PUT",
                      "href": "/v1/users/628a6b68debb1befff8735ea"
                    },
                    {
                      "rel": "promoteToAdmin",
                      "type": "PATCH",
                      "href": "/v1/users/628a6b68debb1befff8735ea/promote"
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "headers": {
              "X-Powered-By": {
                "schema": {
                  "type": "string",
                  "example": "Express"
                }
              },
              "Content-Type": {
                "schema": {
                  "type": "string",
                  "example": "application/json; charset=utf-8"
                }
              },
              "Content-Length": {
                "schema": {
                  "type": "integer",
                  "example": "72"
                }
              },
              "ETag": {
                "schema": {
                  "type": "string",
                  "example": "W/\"48-hhak5gZPPNZ27VJYDiPnGzdyMc8\""
                }
              },
              "Date": {
                "schema": {
                  "type": "string",
                  "example": "Sun, 22 May 2022 17:49:02 GMT"
                }
              },
              "Connection": {
                "schema": {
                  "type": "string",
                  "example": "keep-alive"
                }
              },
              "Keep-Alive": {
                "schema": {
                  "type": "string",
                  "example": "timeout=5"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                },
                "example": {
                  "error": {
                    "name": "ValidationError",
                    "reason": ["params.userId must be a valid id"]
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "headers": {
              "X-Powered-By": {
                "schema": {
                  "type": "string",
                  "example": "Express"
                }
              },
              "Content-Type": {
                "schema": {
                  "type": "string",
                  "example": "application/json; charset=utf-8"
                }
              },
              "Content-Length": {
                "schema": {
                  "type": "integer",
                  "example": "92"
                }
              },
              "ETag": {
                "schema": {
                  "type": "string",
                  "example": "W/\"5c-wawzhE8/V+XQPiLHYiE7v3G0FPM\""
                }
              },
              "Date": {
                "schema": {
                  "type": "string",
                  "example": "Sun, 22 May 2022 17:49:23 GMT"
                }
              },
              "Connection": {
                "schema": {
                  "type": "string",
                  "example": "keep-alive"
                }
              },
              "Keep-Alive": {
                "schema": {
                  "type": "string",
                  "example": "timeout=5"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                },
                "example": {
                  "error": {
                    "name": "Auth.EnsureAuthorizationError",
                    "reason": ["missing authorization header"]
                  }
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "headers": {
              "X-Powered-By": {
                "schema": {
                  "type": "string",
                  "example": "Express"
                }
              },
              "Content-Type": {
                "schema": {
                  "type": "string",
                  "example": "application/json; charset=utf-8"
                }
              },
              "Content-Length": {
                "schema": {
                  "type": "integer",
                  "example": "79"
                }
              },
              "ETag": {
                "schema": {
                  "type": "string",
                  "example": "W/\"4f-Q39GsNgbSxcg8fFQUIVuOCrfvxg\""
                }
              },
              "Date": {
                "schema": {
                  "type": "string",
                  "example": "Sun, 22 May 2022 17:46:24 GMT"
                }
              },
              "Connection": {
                "schema": {
                  "type": "string",
                  "example": "keep-alive"
                }
              },
              "Keep-Alive": {
                "schema": {
                  "type": "string",
                  "example": "timeout=5"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                },
                "example": {
                  "error": {
                    "name": "Auth.OnlyAdminError",
                    "reason": ["restricted to admin users"]
                  }
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "headers": {
              "X-Powered-By": {
                "schema": {
                  "type": "string",
                  "example": "Express"
                }
              },
              "Content-Type": {
                "schema": {
                  "type": "string",
                  "example": "application/json; charset=utf-8"
                }
              },
              "Content-Length": {
                "schema": {
                  "type": "integer",
                  "example": "96"
                }
              },
              "ETag": {
                "schema": {
                  "type": "string",
                  "example": "W/\"60-JcyGrJ3MAJcXHdVSzskotEcUwxA\""
                }
              },
              "Date": {
                "schema": {
                  "type": "string",
                  "example": "Sun, 22 May 2022 17:47:19 GMT"
                }
              },
              "Connection": {
                "schema": {
                  "type": "string",
                  "example": "keep-alive"
                }
              },
              "Keep-Alive": {
                "schema": {
                  "type": "string",
                  "example": "timeout=5"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                },
                "example": {
                  "error": {
                    "name": "User.NotFound",
                    "reason": [
                      "user with id: 6288211b214f56b0ffe3e837 not found"
                    ]
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v1/auth/sign-in": {
      "post": {
        "tags": ["Auth"],
        "summary": "Sign In",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "example": {
                  "email": "root@root.com",
                  "password": "rootadmin"
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "headers": {
              "X-Powered-By": {
                "schema": {
                  "type": "string",
                  "example": "Express"
                }
              },
              "Content-Type": {
                "schema": {
                  "type": "string",
                  "example": "application/json; charset=utf-8"
                }
              },
              "Content-Length": {
                "schema": {
                  "type": "integer",
                  "example": "961"
                }
              },
              "ETag": {
                "schema": {
                  "type": "string",
                  "example": "W/\"3c1-P/AoNXjq2AC9yRyyqHqovUFkEtE\""
                }
              },
              "Date": {
                "schema": {
                  "type": "string",
                  "example": "Fri, 20 May 2022 21:03:03 GMT"
                }
              },
              "Connection": {
                "schema": {
                  "type": "string",
                  "example": "keep-alive"
                }
              },
              "Keep-Alive": {
                "schema": {
                  "type": "string",
                  "example": "timeout=5"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                },
                "example": {
                  "data": {
                    "type": "Bearer",
                    "accessToken": "eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyIjp7ImlkIjoiNjI4ODAwMDc2MjdjZjQ3NmFlYjZkMGNkIiwicm9sZSI6InVzZXIifSwiaWF0IjoxNjUzMDgwNTgzLCJleHAiOjE2NTMwODE0ODN9.Q4f6G-DEP6VeBRtaxASSNSuxiNvrYMfCrDQ2IWoiEVTOALWbqG_S61vWjsNxdUTrxygTxT2yBy7oUg_ZBmpwpaqxAmgaN5mYdBTGBJxRm_URQCbYwkJPyfgokGaw7hcSlAqr6xVFCvNTQy_KIwG-d9R18mcQevfG-eOsenT9mQZcct6q1lrD8Axc_ZzFXbimkk6bDZdL3EjiEtcNEyYYiNY-ZMr6T_mH1L_txqX5c4iGKXg4Vj7VuD2YWt18Uigy08_Rc-8fxz0CS0raqqjClmmeYyg-nSBR1ikdX2Garr2ydrYCVwdNF7BC_1rVlL5psOC9IRbodyDir5CtE5e8WJkRtiYlVjKQ71S8YPpbj3hJyNg5rMbhw3VduQSIiZBUALkUsAEoa1v1CNUvxxWu4BS8vPqnR2pRWDUUhchfdn0SqMs26ErSxGWfchvra0Dv44AUGulMxQ8mcxfZ8TqCx_HRw5LiXgZ_vyJL3KQefv4Cp_IeKZ6EQrc-P8nTtfhjI_pFdLaIOxYpMsqgvLcPbvSd12zkTvbsmDzl9YMTcWnfhDNWhvmdmPLjdGvkSEGVS4q03sQK2EbN4RsrYBNO6ykXhQ76SjanOQ8Zhe94FWmfSia_cQvcgDgcqwBehC5chI0hbpzmid4I60CyDqHcjPtmFHEm2l9j0A1DlXXdb8s",
                    "expiresAt": "2022-05-20T21:18:03.231Z",
                    "issuedAt": "2022-05-20T21:03:03.231Z"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "headers": {
              "X-Powered-By": {
                "schema": {
                  "type": "string",
                  "example": "Express"
                }
              },
              "Content-Type": {
                "schema": {
                  "type": "string",
                  "example": "application/json; charset=utf-8"
                }
              },
              "Content-Length": {
                "schema": {
                  "type": "integer",
                  "example": "72"
                }
              },
              "ETag": {
                "schema": {
                  "type": "string",
                  "example": "W/\"48-EJKEKE73RVMDruSO/vRf4VgMor0\""
                }
              },
              "Date": {
                "schema": {
                  "type": "string",
                  "example": "Fri, 20 May 2022 20:23:19 GMT"
                }
              },
              "Connection": {
                "schema": {
                  "type": "string",
                  "example": "keep-alive"
                }
              },
              "Keep-Alive": {
                "schema": {
                  "type": "string",
                  "example": "timeout=5"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                },
                "example": {
                  "error": {
                    "name": "ValidationError",
                    "reason": ["body.email must be a valid email"]
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "headers": {
              "X-Powered-By": {
                "schema": {
                  "type": "string",
                  "example": "Express"
                }
              },
              "Content-Type": {
                "schema": {
                  "type": "string",
                  "example": "application/json; charset=utf-8"
                }
              },
              "Content-Length": {
                "schema": {
                  "type": "integer",
                  "example": "74"
                }
              },
              "ETag": {
                "schema": {
                  "type": "string",
                  "example": "W/\"4a-NprvspIOsl5I511Aodv6Wxnf9cg\""
                }
              },
              "Date": {
                "schema": {
                  "type": "string",
                  "example": "Fri, 20 May 2022 20:22:45 GMT"
                }
              },
              "Connection": {
                "schema": {
                  "type": "string",
                  "example": "keep-alive"
                }
              },
              "Keep-Alive": {
                "schema": {
                  "type": "string",
                  "example": "timeout=5"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                },
                "example": {
                  "error": {
                    "name": "Auth.SignInError",
                    "reason": ["wrong email or password"]
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v1/auth/sign-up": {
      "post": {
        "tags": ["Auth"],
        "summary": "Sign Up",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "example": {
                  "email": "user@test.com",
                  "password": "12345678"
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Created",
            "headers": {
              "X-Powered-By": {
                "schema": {
                  "type": "string",
                  "example": "Express"
                }
              },
              "Content-Type": {
                "schema": {
                  "type": "string",
                  "example": "application/json; charset=utf-8"
                }
              },
              "Content-Length": {
                "schema": {
                  "type": "integer",
                  "example": "158"
                }
              },
              "ETag": {
                "schema": {
                  "type": "string",
                  "example": "W/\"9e-9rbDemAq6j1F2b/pbezKAfNvHxA\""
                }
              },
              "Date": {
                "schema": {
                  "type": "string",
                  "example": "Fri, 20 May 2022 20:54:31 GMT"
                }
              },
              "Connection": {
                "schema": {
                  "type": "string",
                  "example": "keep-alive"
                }
              },
              "Keep-Alive": {
                "schema": {
                  "type": "string",
                  "example": "timeout=5"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                },
                "example": {
                  "data": {
                    "email": "user@test.com",
                    "role": "user",
                    "createdAt": "2022-05-20T20:54:31.831Z",
                    "updatedAt": "2022-05-20T20:54:31.831Z",
                    "id": "62880007627cf476aeb6d0cd"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "headers": {
              "X-Powered-By": {
                "schema": {
                  "type": "string",
                  "example": "Express"
                }
              },
              "Content-Type": {
                "schema": {
                  "type": "string",
                  "example": "application/json; charset=utf-8"
                }
              },
              "Content-Length": {
                "schema": {
                  "type": "integer",
                  "example": "118"
                }
              },
              "ETag": {
                "schema": {
                  "type": "string",
                  "example": "W/\"76-JMd/qEpi542E7U+J9yj2rocHnVc\""
                }
              },
              "Date": {
                "schema": {
                  "type": "string",
                  "example": "Fri, 20 May 2022 20:35:53 GMT"
                }
              },
              "Connection": {
                "schema": {
                  "type": "string",
                  "example": "keep-alive"
                }
              },
              "Keep-Alive": {
                "schema": {
                  "type": "string",
                  "example": "timeout=5"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                },
                "example": {
                  "error": {
                    "name": "ValidationError",
                    "reason": [
                      "body.email must be a valid email",
                      "body.password must be at least 8 characters"
                    ]
                  }
                }
              }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "headers": {
              "X-Powered-By": {
                "schema": {
                  "type": "string",
                  "example": "Express"
                }
              },
              "Content-Type": {
                "schema": {
                  "type": "string",
                  "example": "application/json; charset=utf-8"
                }
              },
              "Content-Length": {
                "schema": {
                  "type": "integer",
                  "example": "98"
                }
              },
              "ETag": {
                "schema": {
                  "type": "string",
                  "example": "W/\"62-MFNgq5Mf6MrV87Re+0EuIu1TV14\""
                }
              },
              "Date": {
                "schema": {
                  "type": "string",
                  "example": "Fri, 20 May 2022 20:21:35 GMT"
                }
              },
              "Connection": {
                "schema": {
                  "type": "string",
                  "example": "keep-alive"
                }
              },
              "Keep-Alive": {
                "schema": {
                  "type": "string",
                  "example": "timeout=5"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                },
                "example": {
                  "error": {
                    "name": "User.EmailAlreadyTaken",
                    "reason": ["email: italo85199@gmail.com already taken"]
                  }
                }
              }
            }
          }
        }
      }
    },
    "/health-check": {
      "get": {
        "tags": ["General"],
        "summary": "Health Check",
        "responses": {
          "200": {
            "description": "OK",
            "headers": {
              "X-Powered-By": {
                "schema": {
                  "type": "string",
                  "example": "Express"
                }
              },
              "Content-Type": {
                "schema": {
                  "type": "string",
                  "example": "application/json; charset=utf-8"
                }
              },
              "Content-Length": {
                "schema": {
                  "type": "integer",
                  "example": "28"
                }
              },
              "ETag": {
                "schema": {
                  "type": "string",
                  "example": "W/\"1c-SWn9y82qjRQ09PUWofCmKoFqA44\""
                }
              },
              "Date": {
                "schema": {
                  "type": "string",
                  "example": "Sun, 22 May 2022 16:56:14 GMT"
                }
              },
              "Connection": {
                "schema": {
                  "type": "string",
                  "example": "keep-alive"
                }
              },
              "Keep-Alive": {
                "schema": {
                  "type": "string",
                  "example": "timeout=5"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                },
                "example": {
                  "message": "app is running"
                }
              }
            }
          }
        }
      }
    }
  }
}
